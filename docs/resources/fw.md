---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "unifi_fw Resource - unifi"
subcategory: ""
description: |-
  firewall policy resource
---

# unifi_fw (Resource)

Firewall policy resource for the UniFi Controller.

## Example Usage

```terraform
resource "unifi_fw" "drop_invalid" {
  name    = "drop-invalid"
  enabled = true
  action {
    type = "DROP"
  }
  source {
    zone_id = data.unifi_firewall_zone.internet.id
  }
  destination {
    zone_id = data.unifi_firewall_zone.default.id
  }
  connection_state_filter = ["INVALID"]
  ip_protocol_scope {
    ip_version = "IPV4"
  }
  logging_enabled = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (Block List, Min: 1, Max: 1) The action of the policy. (see [below for nested schema](#nestedblock--action))
- `destination` (Block List, Min: 1, Max: 1) The destination of the policy. (see [below for nested schema](#nestedblock--destination))
- `enabled` (Boolean) Whether the policy is enabled.
- `ip_protocol_scope` (Block List, Min: 1, Max: 1) The IP protocol scope of the policy. (see [below for nested schema](#nestedblock--ip_protocol_scope))
- `name` (String) The name of the policy.
- `source` (Block List, Min: 1, Max: 1) The source of the policy. (see [below for nested schema](#nestedblock--source))

### Optional

- `connection_state_filter` (List of String) The connection state filter.
- `logging_enabled` (Boolean) Whether logging is enabled.
- `schedule` (Block List, Max: 1) The schedule of the policy. (see [below for nested schema](#nestedblock--schedule))

### Read-Only

- `id` (String) The ID of the policy.
- `predefined` (Boolean) Whether the policy is predefined.
- `site_id` (String) The ID of the site.

<a id="nestedblock--action"></a>
### Nested Schema for `action`

Required:

- `type` (String) The type of action.

Optional:

- `allow_return_traffic` (Boolean) Whether to allow return traffic.


<a id="nestedblock--destination"></a>
### Nested Schema for `destination`

Required:

- `zone_id` (String) The ID of the zone.

Optional:

- `traffic_filter` (Block List, Max: 1) The traffic filter. (see [below for nested schema](#nestedblock--destination--traffic_filter))

<a id="nestedblock--destination--traffic_filter"></a>
### Nested Schema for `destination.traffic_filter`

Required:

- `type` (String) The type of traffic filter.

Optional:

- `domain_filter` (Block List, Max: 1) The domain filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--domain_filter))
- `ip_address_filter` (Block List, Max: 1) The IP address filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--ip_address_filter))
- `mac_address_filter` (Block List, Max: 1) The MAC address filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--mac_address_filter))
- `network_filter` (Block List, Max: 1) The network filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--network_filter))
- `port_filter` (Block List, Max: 1) The port filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--port_filter))
- `protocol_filter` (Block List, Max: 1) The protocol filter. (see [below for nested schema](#nestedblock--destination--traffic_filter--protocol_filter))

<a id="nestedblock--destination--traffic_filter--domain_filter"></a>
### Nested Schema for `destination.traffic_filter.domain_filter`

Required:

- `items` (List of String) The list of domains.


<a id="nestedblock--destination--traffic_filter--ip_address_filter"></a>
### Nested Schema for `destination.traffic_filter.ip_address_filter`

Required:

- `items` (List of String) The list of IP addresses.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of IP address filter.


<a id="nestedblock--destination--traffic_filter--mac_address_filter"></a>
### Nested Schema for `destination.traffic_filter.mac_address_filter`

Required:

- `items` (List of String) The list of MAC addresses.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of MAC address filter.


<a id="nestedblock--destination--traffic_filter--network_filter"></a>
### Nested Schema for `destination.traffic_filter.network_filter`

Required:

- `items` (List of String) The list of networks.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of network filter.


<a id="nestedblock--destination--traffic_filter--port_filter"></a>
### Nested Schema for `destination.traffic_filter.port_filter`

Required:

- `items` (Block List, Min: 1) The list of ports. (see [below for nested schema](#nestedblock--destination--traffic_filter--port_filter--items))
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of port filter.

<a id="nestedblock--destination--traffic_filter--port_filter--items"></a>
### Nested Schema for `destination.traffic_filter.port_filter.items`

Required:

- `type` (String) The type of port item.

Optional:

- `start` (Number) The start port.
- `stop` (Number) The stop port.
- `value` (Number) The port value.


<a id="nestedblock--destination--traffic_filter--protocol_filter"></a>
### Nested Schema for `destination.traffic_filter.protocol_filter`

Required:

- `match_opposite` (Boolean) Whether to match the opposite.
- `protocol` (String) The protocol.
- `type` (String) The type of protocol filter.




<a id="nestedblock--ip_protocol_scope"></a>
### Nested Schema for `ip_protocol_scope`

Required:

- `ip_version` (String) The IP version.

Optional:

- `protocol_filter` (Block List, Max: 1) The protocol filter. (see [below for nested schema](#nestedblock--ip_protocol_scope--protocol_filter))

<a id="nestedblock--ip_protocol_scope--protocol_filter"></a>
### Nested Schema for `ip_protocol_scope.protocol_filter`

Required:

- `match_opposite` (Boolean) Whether to match the opposite.
- `protocol` (String) The protocol.
- `type` (String) The type of protocol filter.


<a id="nestedblock--name"></a>
### Nested Schema for `name`

Required:

- `name` (String) The name of the policy.


<a id="nestedblock--source"></a>
### Nested Schema for `source`

Required:

- `zone_id` (String) The ID of the zone.

Optional:

- `traffic_filter` (Block List, Max: 1) The traffic filter. (see [below for nested schema](#nestedblock--source--traffic_filter))

<a id="nestedblock--source--traffic_filter"></a>
### Nested Schema for `source.traffic_filter`

Required:

- `type` (String) The type of traffic filter.

Optional:

- `domain_filter` (Block List, Max: 1) The domain filter. (see [below for nested schema](#nestedblock--source--traffic_filter--domain_filter))
- `ip_address_filter` (Block List, Max: 1) The IP address filter. (see [below for nested schema](#nestedblock--source--traffic_filter--ip_address_filter))
- `mac_address_filter` (Block List, Max: 1) The MAC address filter. (see [below for nested schema](#nestedblock--source--traffic_filter--mac_address_filter))
- `network_filter` (Block List, Max: 1) The network filter. (see [below for nested schema](#nestedblock--source--traffic_filter--network_filter))
- `port_filter` (Block List, Max: 1) The port filter. (see [below for nested schema](#nestedblock--source--traffic_filter--port_filter))
- `protocol_filter` (Block List, Max: 1) The protocol filter. (see [below for nested schema](#nestedblock--source--traffic_filter--protocol_filter))

<a id="nestedblock--source--traffic_filter--domain_filter"></a>
### Nested Schema for `source.traffic_filter.domain_filter`

Required:

- `items` (List of String) The list of domains.


<a id="nestedblock--source--traffic_filter--ip_address_filter"></a>
### Nested Schema for `source.traffic_filter.ip_address_filter`

Required:

- `items` (List of String) The list of IP addresses.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of IP address filter.


<a id="nestedblock--source--traffic_filter--mac_address_filter"></a>
### Nested Schema for `source.traffic_filter.mac_address_filter`

Required:

- `items` (List of String) The list of MAC addresses.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of MAC address filter.


<a id="nestedblock--source--traffic_filter--network_filter"></a>
### Nested Schema for `source.traffic_filter.network_filter`

Required:

- `items` (List of String) The list of networks.
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of network filter.


<a id="nestedblock--source--traffic_filter--port_filter"></a>
### Nested Schema for `source.traffic_filter.port_filter`

Required:

- `items` (Block List, Min: 1) The list of ports. (see [below for nested schema](#nestedblock--source--traffic_filter--port_filter--items))
- `match_opposite` (Boolean) Whether to match the opposite.
- `type` (String) The type of port filter.

<a id="nestedblock--source--traffic_filter--port_filter--items"></a>
### Nested Schema for `source.traffic_filter.port_filter.items`

Required:

- `type` (String) The type of port item.

Optional:

- `start` (Number) The start port.
- `stop` (Number) The stop port.
- `value` (Number) The port value.


<a id="nestedblock--source--traffic_filter--protocol_filter"></a>
### Nested Schema for `source.traffic_filter.protocol_filter`

Required:

- `match_opposite` (Boolean) Whether to match the opposite.
- `protocol` (String) The protocol.
- `type` (String) The type of protocol filter.


<a id="nestedblock--schedule"></a>
### Nested Schema for `schedule`

Required:

- `mode` (String) The schedule mode.

Optional:

- `days_of_week` (List of String) The days of the week.
- `time_range` (Block List, Max: 1) The time range. (see [below for nested schema](#nestedblock--schedule--time_range))

<a id="nestedblock--schedule--time_range"></a>
### Nested Schema for `schedule.time_range`

Required:

- `start` (String) The start time.
- `stop` (String) The stop time.
